"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}var Accordion=function(){function e(t,s){_classCallCheck(this,e),this._el="string"==typeof t?document.querySelector(t):t;this._config=Object.assign({alwaysOpen:!0,duration:350,itemClass:"accordion__item",headClass:"accordion__head",bodyClass:"accordion__body"},s),this.addEventListener()}return _createClass(e,[{key:"addEventListener",value:function(){var e=this;null!=this._el&&this._el.addEventListener("click",(function(t){var s=t.target.closest("."+e._config.headClass);if(s){if(!e._config.alwaysOpen){var i=e._el.querySelector(".show");i&&i!==s.parentElement&&e.toggle(i)}e.toggle(s.parentElement)}}))}},{key:"show",value:function(e){var t=e.querySelector("."+this._config.bodyClass);e.classList.add("show");var s=t.offsetHeight;t.style.height=0,t.style.overflow="hidden",t.style.transition="height ".concat(this._config.duration,"ms ease-out"),t.classList.add("collapsing"),t.offsetHeight,t.style.height="".concat(s,"px"),t.addEventListener("transitionend",(function(){t.classList.remove("collapsing"),t.classList.add("collapse"),t.style.display="",t.style.height="",t.style.transition="",t.style.overflow=""}),{once:!0})}},{key:"hide",value:function(e){var t=e.querySelector("."+this._config.bodyClass);t.style.height="".concat(t.offsetHeight,"px"),t.offsetHeight,t.style.display="block",t.style.height=0,t.style.overflow="hidden",t.style.transition="height ".concat(this._config.duration,"ms ease-out"),t.classList.remove("collapse"),e.classList.remove("show"),t.classList.add("collapsing"),t.addEventListener("transitionend",(function(){t.classList.remove("collapsing"),t.classList.add("collapse"),t.style.display="",t.style.height="",t.style.transition="",t.style.overflow=""}),{once:!0})}},{key:"toggle",value:function(e){e.classList.contains("show")?this.hide(e):this.show(e)}}]),e}();document.addEventListener("DOMContentLoaded",(function(e){document.querySelectorAll("input[type=tel]").forEach((function(e){var t=new IMask(e,{mask:"+{7} (000) 000-00-00",lazy:!0,placeholderChar:"_"});e.addEventListener("focus",(function(){t.updateOptions({lazy:!1})}),!0),e.addEventListener("blur",(function(){t.updateOptions({lazy:!0}),t.masked.rawInputValue||(t.value="")}),!0)}));var t=document.documentElement,s=document.querySelector(".header"),i=s.querySelector(".header__popup-wrap"),l=s.querySelector(".header__menu-btn"),n=s.querySelectorAll(".open-popup-btn"),a=!1,r=!1,o=0;function c(){r=!0,l.classList.contains("cross")?(l.classList.remove("cross"),l.addEventListener("transitionend",(function(){l.classList.remove("collapse"),l.addEventListener("transitionend",(function(){r=!1}),{once:!0})}),{once:!0})):(l.classList.add("collapse"),l.addEventListener("transitionend",(function(){l.classList.add("cross"),l.addEventListener("transitionend",(function(){r=!1}),{once:!0})}),{once:!0}))}n.forEach((function(e){var l=e.classList.contains("header__menu-btn"),n=i.querySelector(".header__popup-item."+e.dataset.popupTarget);n&&e.addEventListener("click",(function(){if(!r)if(a)if(l)s.classList.remove("header--popup-opened"),a=!1,t.classList.remove("modal-opened"),t.style.marginRight="",s.style.paddingRight="",window.scrollTo(0,o),t.style.top="",c();else{if(n.classList.contains("active"))return;var e=i.querySelector(".header__popup-item.active");e.style.opacity=0,e.addEventListener("transitionend",(function(){e.classList.remove("active"),e.style.opacity=null,n.classList.add("active"),n.style.opacity=0,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){n.style.opacity=null}))}))}),{once:!0})}else i.querySelector(".header__popup-item.active").classList.remove("active"),n.classList.add("active"),function(){s.classList.add("header--popup-opened"),a=!0,o=window.pageYOffset;var e=window.innerWidth-t.clientWidth;t.style.top="".concat(-o,"px"),e&&(t.style.marginRight="".concat(e,"px"),s.style.paddingRight="".concat(parseInt(getComputedStyle(s).paddingRight,10)+e,"px"));t.classList.add("modal-opened")}(),c()}))}));var d=document.querySelectorAll(".nav-menu__column, .footer__nav-links"),u=null;d.forEach((function(e){var t=e.querySelector(".nav-menu__links-title, .footer__links-title"),s=e.querySelector(".nav-menu__links-list, .footer__links-list");t.addEventListener("click",(function(t){if(u){if(e.classList.contains("showed"))return;u.querySelector(".nav-menu__links-list, .footer__links-list").style.height=null,u.classList.remove("showed")}e.classList.add("showed"),s.style.height="auto";var i=s.offsetHeight;s.style.height=0,console.log(i),u=e,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){s.style.height=i+"px"}))}))}))})),document.querySelectorAll(".search-bar").forEach((function(e){var t=e.querySelector(".search-bar__btn"),s=e.classList.contains("hidden");t.addEventListener("click",(function(t){s&&(t.preventDefault(),s=!1,e.classList.remove("hidden"))}))})),document.querySelectorAll(".range-slider").forEach((function(e){var t=e.querySelector(".range-slider__range"),s=Number(e.dataset.min),i=Number(e.dataset.max);noUiSlider.create(t,{start:[s,i],connect:!0,step:1,range:{min:s,max:i},format:{from:function(e){return parseInt(e)},to:function(e){return parseInt(e)}}});var l=[e.querySelector('input[name="min"]'),e.querySelector('input[name="max"]')];t.noUiSlider.on("update",(function(e,t){l[t].value=e[t].toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")})),l[0].addEventListener("change",(function(){t.noUiSlider.set([this.value,null])})),l[1].addEventListener("change",(function(){t.noUiSlider.set([null,this.value])}))})),document.querySelectorAll(".tabs").forEach((function(e){var t=e.querySelectorAll(".tabs__buttons .button"),s=e.querySelector(".tabs__placeholder");s.addEventListener("click",(function(){e.classList.toggle("opened")})),t.forEach((function(t){var i=t.textContent,l=!1;t.addEventListener("click",(function(n){if(!t.classList.contains("active")&&1!=l){var a=e.querySelector(".tabs__buttons .button.active"),r=e.querySelector(".tabs__content.active"),o=document.querySelector('.tabs__content[data-tab-id="'.concat(t.dataset.tabTarget,'"]'));l=!0,a.classList.remove("active"),r.style.opacity=0,r.addEventListener("transitionend",(function(){r.style.opacity=null,r.classList.remove("active"),t.classList.add("active"),s.querySelector("span").textContent=i,e.classList.remove("opened"),o.classList.add("active"),o.style.opacity=0,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){o.style.opacity=null,l=!1}))}))}),{once:!0})}}))}))})),document.querySelectorAll(".type-selection").forEach((function(e){var t=e.querySelector(".type-selection__selected"),s=e.querySelector(".type-selection__selected-text"),i=e.querySelectorAll("input");t.addEventListener("click",(function(){e.classList.toggle("show")})),i.forEach((function(t){t.addEventListener("change",(function(){s.textContent=this.value,e.classList.toggle("show")}))}))})),new Accordion(".faq__list",{alwaysOpen:!1,duration:350,itemClass:"faq__item",headClass:"faq__head",bodyClass:"faq__body"}),new Accordion(".cooperation__list",{alwaysOpen:!1,duration:350,itemClass:"cooperation-item",headClass:"cooperation-item__head",bodyClass:"cooperation-item__body"}),new Accordion(".services__list",{alwaysOpen:!1,duration:350,itemClass:"service-item",headClass:"service-item__head",bodyClass:"service-item__body"}),document.querySelectorAll(".select").forEach((function(e){new SlimSelect({select:e,showSearch:!1})}));var p=document.querySelector(".projects__slider.slider");null!==p&&new Swiper(p.querySelector(".slider__wrap"),{spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",freeMode:!0,slidesPerView:"auto",navigation:{nextEl:p.querySelector(".slider__arrow--next"),prevEl:p.querySelector(".slider__arrow--prev"),disabledClass:"disabled"},pagination:{el:p.querySelector(".slider__pagination"),bulletClass:"slider__bullet",bulletActiveClass:"active",clickable:!0},breakpoints:{1200:{freeMode:!1,slidesPerView:5}}}),document.querySelectorAll(".proj-card-full__images-item").forEach((function(e){var t=e.querySelector(".proj-card-full__main-slider.slider"),s=e.querySelector(".proj-card-full__thumb-slider.slider");if(null!=t&&null!=s){var i=new Swiper(s.querySelector(".slider__wrap"),{spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",slidesPerView:2,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:s.querySelector(".slider__arrow--next"),prevEl:s.querySelector(".slider__arrow--prev"),disabledClass:"disabled"},pagination:{el:s.querySelector(".slider__pagination"),bulletClass:"slider__bullet",bulletActiveClass:"active",clickable:!0},breakpoints:{768:{slidesPerView:3}}});new Swiper(t.querySelector(".slider__wrap"),{spaceBetween:10,wrapperClass:"slider__list",slideClass:"slider__slide",slidesPerView:1,thumbs:{swiper:i}})}})),document.querySelectorAll(".post__image.slider").forEach((function(e){new Swiper(e.querySelector(".slider__wrap"),{spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",freeMode:!1,slidesPerView:1,pagination:{el:e.querySelector(".slider__pagination"),bulletClass:"slider__bullet",bulletActiveClass:"active",clickable:!0}})})),document.querySelectorAll(".about__desc.slider").forEach((function(e){var t=e.querySelector(".about__desc-number");new Swiper(e.querySelector(".slider__wrap"),{spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",freeMode:!1,slidesPerView:1,navigation:{nextEl:e.querySelector(".slider__arrow--next"),prevEl:e.querySelector(".slider__arrow--prev"),disabledClass:"disabled"}}).on("slideChange",(function(e){t.textContent="0"+(e.activeIndex+1)}))})),document.querySelectorAll(".cabinet-chat__messages").forEach((function(e){var t=document.createElement("div");t.classList.add("swiper-scrollbar"),e.appendChild(t),new Swiper(e,{direction:"vertical",wrapperClass:"cabinet-chat__messages-wrap",slideClass:"cabinet-chat__messages-content",slidesPerView:"auto",freeMode:!0,scrollbar:{el:t},mousewheel:!0}).scrollbar.setTranslate("translate3d(0px, 300px, 0px)")})),document.querySelectorAll(".cabinet-media.slider").forEach((function(e){new Swiper(e.querySelector(".slider__wrap"),{spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",freeMode:!1,slidesPerView:1,navigation:{nextEl:e.querySelector(".slider__arrow--next"),prevEl:e.querySelector(".slider__arrow--prev"),disabledClass:"disabled"},pagination:{el:e.querySelector(".slider__pagination"),bulletClass:"slider__bullet",bulletActiveClass:"active",clickable:!0},breakpoints:{576:{slidesPerView:2},768:{slidesPerView:3},992:{slidesPerView:3},1200:{slidesPerView:5}}})}));var _=document.querySelectorAll(".slider--lg");_.forEach((function(e){var t=document.createElement("div");t.classList.add("slider__pagination"),e.appendChild(t),new Swiper(e,{freeMode:!0,slidesPerView:"auto",spaceBetween:30,wrapperClass:"slider__list",slideClass:"slider__slide",pagination:{el:t,bulletClass:"slider__bullet",bulletActiveClass:"active",clickable:!0}})})),window.addEventListener("resize",(function(){_.forEach((function(e){e.swiper.update()}))})),document.querySelectorAll(".project-card--second-type").forEach((function(e){var t=e.querySelector(".project-card__content");e.addEventListener("mouseenter",(function(e){!function(){t.style.height="auto";var e=t.offsetHeight;t.style.height="0",window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){t.style.height=e+"px"}))}))}()})),e.addEventListener("mouseleave",(function(e){t.style.height=null}))}))}));